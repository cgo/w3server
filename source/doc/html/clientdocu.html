<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>w3server: Documentation for the advanced client</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1><a class="anchor" name="clientdocu">Documentation for the advanced client</a></h1><h2><a class="anchor" name="intro">
Introduction</a></h2>
This is the documentation for the client program. It is the command line part of the HTML browser. The second part of the report can be found <a href="../../../../docs/report.html">here</a>. <h2><a class="anchor" name="make">
Building server</a></h2>
<h3><a class="anchor" name="need">
What you need</a></h3>
<ul>
<li>
Linux or Solaris <br>
 (Tested with Linux 2.2.13 and libc6) </li>
<li>
pthread library </li>
<li>
gcc or similar compiler (tested with egcs 2.91-66) </li>
<li>
GNU make </li>
<li>
libfl (from the flex package) </li>
<li>
flex if you wish to remake the C-code for the lexical analyzers from the .lex files (usually not) </li>
<li>
GNU autoconf if you want to remake the configure scripts </li>
</ul>
<h3><a class="anchor" name="build">
Building it</a></h3>
There are few things to do: <ul>
<li>
Change to the client directory  </li>
<li>
Type <code>./configure</code> to configure the source for your system. If configure reports any error, the source will very likely not build correctly. Please report bugs to the authors. </li>
<li>
Type <code>make</code> at the command prompt. This should build the client executable in the client directory.<br>
 Optional: Call <code>make clean</code> to delete all object files and auto-save files. <code>make stat</code> outputs a little code statistics. You need the <code>wc</code> program to use this. </li>
<li>
In the rare case you should want to rebuild the flex analyser, call <br>
 <code>flex -i img.lex</code> <br>
 in the source directory and then <br>
 <code>make clean; make</code> <br>
 in the client directory. </li>
</ul>
<h2><a class="anchor" name="usage">
Usage</a></h2>
The command line format to call <code>client</code> is: <br>
 <h3><a class="anchor" name="usageget">
For getting a HTML page</a></h3>
<code>client get full-path-to-file destination-file port</code> <br>
 Where <ul>
<li>
<code>full-path-to-file</code> is the full URI, like <br>
 <code>io.iupiter.universe/www/hund.html</code>.  </li>
<li>
<code>destination-file</code> is the local file where the downloaded file is to be stored. </li>
<li>
<code>port</code> is the port number the server is running on. Usually, this is 80. </li>
</ul>
<h3><a class="anchor" name="usagemail">
For sending mail</a></h3>
<code>client mail mailfile</code> <br>
 Where <ul>
<li>
<code>mailfile</code> is a filename of a file of the following format: <br>
 First line: Recipient <br>
 Second line: Sender <br>
 Third line: mailer <br>
 Fourth line: port number on which the mailer accepts connections <br>
 The following lines contain the mail body, including ALL headers the sender wants to be sent (including sender and recipient headers).  </li>
</ul>
<h2><a class="anchor" name="cachestuff">
Downloaded Files</a></h2>
If you download a HTML file, for example www.animals.org/dog/cat/mouse.html, it is stored in the given destination file AND in the cache subdirectory (which is specified in client/src/w3clientconfig.h). The HTML file is scanned for image tags and the corresponding images are downloaded and stored in the cache directory, in this example that could be <br>
 cache/www.animals.org/pictures/dog.gif <br>
 The HTML pages are stored flatly in cache/, e.g. as <br>
 cache/www.animals.org_index.html <br>
 The slashes are replaced by underscores. This CAN lead to clashes but that is neglected for this program. In a release version, another mechanism would have to be used. <hr size="1"><address style="align: right;"><small>Generated on Thu Jul 6 15:25:00 2006 for w3server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6 </small></address>
</body>
</html>
